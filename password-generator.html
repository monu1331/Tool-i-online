<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Random Number & Password Generator — Tool i online</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{ --orange:#FB8C00; --orange-dark:#e67a00; --muted:#666; --bg:#fff; --radius:12px; --shadow:0 12px 30px rgba(0,0,0,0.06); --container:1100px }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;background:linear-gradient(180deg,#fff,#fcfcfc);color:#222;padding:20px}
    .wrap{max-width:var(--container);margin:0 auto}
    header{display:flex;gap:12px;align-items:center;margin-bottom:18px}
    .logo{width:56px;height:56px;border-radius:12px;background:var(--orange);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;box-shadow:var(--shadow)}
    h1{margin:0;font-size:20px}
    .lead{color:var(--muted);font-size:14px;margin-top:4px}

    .card{background:var(--bg);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;margin-bottom:16px}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:18px}

    .section-title{font-weight:700;margin-bottom:10px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    input[type=number], input[type=text], select{width:100%;padding:10px;border-radius:10px;border:1px solid #eee;font-size:14px}
    .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
    .btn.primary{background:var(--orange);color:#fff}
    .btn.ghost{background:#fff;border:1px solid #eee}
    .small{font-size:13px;color:var(--muted)}

    .row{display:flex;gap:8px;align-items:center}
    .controls{display:flex;flex-direction:column;gap:12px}
    .output{font-family:monospace;background:#fafafa;padding:12px;border-radius:8px;border:1px solid #f0f0f0}

    .strength{height:10px;border-radius:6px;background:#f3f3f3;overflow:hidden}
    .strength-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--orange),var(--orange-dark))}

    .options{display:flex;gap:8px;flex-wrap:wrap}
    .chip{padding:8px 10px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer}

    @media(max-width:980px){ .grid{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">Ti</div>
      <div>
        <h1>Random Number & Password Generator</h1>
        <div class="lead">Generate secure passwords and random numbers. Options for complexity, uniqueness, exclusions and bulk export. Orange-themed, responsive, client-side.</div>
      </div>
    </header>

    <main class="card">
      <div class="grid">
        <section>
          <div class="controls">
            <div>
              <div class="section-title">Password Generator</div>
              <label>Length</label>
              <input id="pwLength" type="number" min="4" max="128" value="16">

              <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
                <label style="display:flex;align-items:center;gap:8px"><input id="useLower" type="checkbox" checked> a–z</label>
                <label style="display:flex;align-items:center;gap:8px"><input id="useUpper" type="checkbox" checked> A–Z</label>
                <label style="display:flex;align-items:center;gap:8px"><input id="useNumbers" type="checkbox" checked> 0–9</label>
                <label style="display:flex;align-items:center;gap:8px"><input id="useSymbols" type="checkbox" checked> symbols</label>
              </div>

              <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
                <label style="display:flex;align-items:center;gap:8px"><input id="excludeAmbiguous" type="checkbox"> Exclude ambiguous (0OIl1)</label>
                <label style="display:flex;align-items:center;gap:8px"><input id="includeDashes" type="checkbox"> Allow dashes</label>
              </div>

              <div style="display:flex;gap:8px;margin-top:10px;align-items:center">
                <button id="generatePw" class="btn primary">Generate Password</button>
                <button id="copyPw" class="btn ghost" disabled>Copy</button>
                <button id="downloadPw" class="btn ghost" disabled>Download</button>
              </div>

              <div style="margin-top:8px">
                <div class="small">Strength</div>
                <div class="strength"><div id="pwStrength" class="strength-bar"></div></div>
              </div>

              <div style="margin-top:10px">
                <div class="small">Result</div>
                <div id="pwOutput" class="output">—</div>
              </div>
            </div>

            <hr>

            <div>
              <div class="section-title">Random Number Generator</div>
              <div style="display:flex;gap:8px">
                <div style="flex:1">
                  <label>Min</label>
                  <input id="numMin" type="number" value="1">
                </div>
                <div style="flex:1">
                  <label>Max</label>
                  <input id="numMax" type="number" value="100">
                </div>
              </div>

              <div style="display:flex;gap:8px;margin-top:8px">
                <div style="width:140px">
                  <label>Count</label>
                  <input id="numCount" type="number" min="1" max="1000" value="5">
                </div>
                <div style="flex:1">
                  <label>Unique?</label>
                  <select id="uniqueSelect"><option value="true">Yes</option><option value="false">No</option></select>
                </div>
              </div>

              <div style="display:flex;gap:8px;margin-top:10px">
                <button id="generateNums" class="btn primary">Generate Numbers</button>
                <button id="copyNums" class="btn ghost" disabled>Copy</button>
                <button id="downloadNums" class="btn ghost" disabled>Download</button>
              </div>

              <div style="margin-top:10px">
                <div class="small">Result</div>
                <div id="numOutput" class="output">—</div>
              </div>
            </div>

          </div>
        </section>

        <aside>
          <div>
            <div class="card">
              <div class="small">Quick password presets</div>
              <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
                <button class="chip" data-len="12">12 chars</button>
                <button class="chip" data-len="16">16 chars</button>
                <button class="chip" data-len="24">24 chars</button>
                <button class="chip" data-len="32">32 chars</button>
              </div>

              <div style="margin-top:12px" class="small">Password rules suggestions</div>
              <ul style="margin-top:8px" class="small">
                <li>At least 12 characters for strong personal passwords.</li>
                <li>Use a password manager for long unique passwords per site.</li>
                <li>Avoid reusing passwords and excluding characters only when necessary.</li>
              </ul>
            </div>

            <div class="card" style="margin-top:12px">
              <div class="small">Export / Logs</div>
              <div style="margin-top:8px" class="small">You can download generated values as .txt files for safekeeping.</div>
            </div>

            <div class="card" style="margin-top:12px">
              <div class="small">Security</div>
              <div class="small" style="margin-top:6px">All generation occurs in your browser. Use HTTPS when downloading or copying sensitive values.</div>
            </div>

          </div>
        </aside>
      </div>
    </main>
  </div>

  <script>
    // Utilities
    function secureRandomInt(min, max){ // inclusive
      const range = max - min + 1; if(range <= 0) return min; const maxValid = Math.floor(0xFFFFFFFF / range) * range; const buf = new Uint32Array(1); while(true){ window.crypto.getRandomValues(buf); const v = buf[0]; if(v < maxValid){ return min + (v % range); } }
    }

    function shuffleArray(arr){ for(let i=arr.length-1;i>0;i--){ const j = secureRandomInt(0,i); [arr[i],arr[j]] = [arr[j],arr[i]]; } return arr; }

    // Password generator
    const lowerChars = 'abcdefghijklmnopqrstuvwxyz';
    const upperChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const digits = '0123456789';
    const symbols = '!@#$%^&*()_+[]{}|;:,.<>?/~`';

    const pwLength = document.getElementById('pwLength');
    const useLower = document.getElementById('useLower');
    const useUpper = document.getElementById('useUpper');
    const useNumbers = document.getElementById('useNumbers');
    const useSymbols = document.getElementById('useSymbols');
    const excludeAmbiguous = document.getElementById('excludeAmbiguous');
    const includeDashes = document.getElementById('includeDashes');
    const generatePwBtn = document.getElementById('generatePw');
    const pwOutput = document.getElementById('pwOutput');
    const copyPw = document.getElementById('copyPw');
    const downloadPw = document.getElementById('downloadPw');
    const pwStrength = document.getElementById('pwStrength');

    function buildCharSet(){ let set = '';
      if(useLower.checked) set += lowerChars;
      if(useUpper.checked) set += upperChars;
      if(useNumbers.checked) set += digits;
      if(useSymbols.checked) set += symbols;
      if(excludeAmbiguous.checked){ set = set.replace(/[0OIl1]/g,''); }
      if(includeDashes.checked) set += '-';
      return set;
    }

    function generatePassword(){ const len = Math.max(4, Math.min(128, Number(pwLength.value)||16)); const set = buildCharSet(); if(!set.length){ alert('Select at least one character set'); return ''; }
      // ensure each selected category present at least once
      let pw = [];
      const categories = [];
      if(useLower.checked) categories.push(lowerChars);
      if(useUpper.checked) categories.push(upperChars);
      if(useNumbers.checked) categories.push(digits);
      if(useSymbols.checked) categories.push(symbols);
      // add one char from each category first to satisfy rules
      categories.forEach(cat=>{ let ch = cat[secureRandomInt(0, cat.length-1)]; if(excludeAmbiguous.checked) ch = ch.replace(/[0OIl1]/g,'') || cat[secureRandomInt(0, cat.length-1)]; pw.push(ch); });
      // fill rest
      for(let i=pw.length;i<len;i++){ const ch = set[secureRandomInt(0, set.length-1)]; pw.push(ch); }
      // shuffle
      pw = shuffleArray(pw);
      return pw.join('');
    }

    function estimateStrength(pw){ let score = 0; if(pw.length >= 8) score += 1; if(pw.length >= 12) score += 1; if(/[a-z]/.test(pw)) score += 1; if(/[A-Z]/.test(pw)) score += 1; if(/[0-9]/.test(pw)) score += 1; if(/[^A-Za-z0-9]/.test(pw)) score += 1; return Math.min(6, score); }

    function updateStrengthBar(pw){ const s = estimateStrength(pw); const pct = Math.round((s/6)*100); pwStrength.style.width = pct + '%'; }

    generatePwBtn.addEventListener('click', ()=>{
      const p = generatePassword(); if(!p) return; pwOutput.textContent = p; copyPw.disabled = false; downloadPw.disabled = false; updateStrengthBar(p);
    });

    copyPw.addEventListener('click', ()=>{ navigator.clipboard.writeText(pwOutput.textContent).then(()=>{ copyPw.textContent='Copied'; setTimeout(()=>copyPw.textContent='Copy',1000); }); });

    downloadPw.addEventListener('click', ()=>{ const text = pwOutput.textContent; if(!text) return; const blob = new Blob([text], {type:'text/plain'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'password.txt'; document.body.appendChild(a); a.click(); a.remove(); setTimeout(()=>URL.revokeObjectURL(url),5000); });

    // quick preset chips
    document.querySelectorAll('.chip').forEach(btn=> btn.addEventListener('click', ()=>{ pwLength.value = btn.dataset.len; }));

    // Random Numbers
    const numMin = document.getElementById('numMin');
    const numMax = document.getElementById('numMax');
    const numCount = document.getElementById('numCount');
    const uniqueSelect = document.getElementById('uniqueSelect');
    const generateNums = document.getElementById('generateNums');
    const numOutput = document.getElementById('numOutput');
    const copyNums = document.getElementById('copyNums');
    const downloadNums = document.getElementById('downloadNums');

    function generateNumbers(){ const min = Number(numMin.value); const max = Number(numMax.value); const count = Math.max(1, Math.min(1000, Number(numCount.value)||1)); const unique = uniqueSelect.value === 'true'; if(isNaN(min) || isNaN(max) || min>max){ alert('Invalid min/max'); return []; }
      const range = max - min +1; if(unique && count > range){ alert('Count exceeds unique values in range'); return []; }
      const results = [];
      if(unique){ // generate array and sample
        const pool = []; for(let i=min;i<=max;i++) pool.push(i); shuffleArray(pool); for(let i=0;i<count;i++) results.push(pool[i]);
      } else {
        for(let i=0;i<count;i++) results.push(secureRandomInt(min,max));
      }
      return results;
    }

    generateNums.addEventListener('click', ()=>{ const arr = generateNumbers(); if(arr.length===0){ numOutput.textContent='—'; copyNums.disabled=true; downloadNums.disabled=true; return; } numOutput.textContent = arr.join(', '); copyNums.disabled=false; downloadNums.disabled=false; });

    copyNums.addEventListener('click', ()=>{ navigator.clipboard.writeText(numOutput.textContent).then(()=>{ copyNums.textContent='Copied'; setTimeout(()=>copyNums.textContent='Copy',1000); }); });

    downloadNums.addEventListener('click', ()=>{ const data = numOutput.textContent; const blob = new Blob([data], {type:'text/plain'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'numbers.txt'; document.body.appendChild(a); a.click(); a.remove(); setTimeout(()=>URL.revokeObjectURL(url),5000); });

    // initialize
    (function init(){ copyPw.disabled=true; downloadPw.disabled=true; copyNums.disabled=true; downloadNums.disabled=true; })();
  </script>
</body>
</html>
