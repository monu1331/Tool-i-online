<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tool i Online ‚Äî Currency Converter</title>
  <style>
    :root{
      --purple:#6b21a8;
      --purple-600:#7b2bc0;
      --muted:#8b8b92;
      --card-bg: #fff;
      --glass: rgba(255,255,255,0.8);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100vh;background:linear-gradient(180deg,#faf8ff 0%, #fff 100%);
      display:flex;align-items:flex-start;justify-content:center;padding:36px;
      color:#222;
    }
    .container{width:100%;max-width:980px}
    .card{
      background:var(--card-bg);border-radius:14px;padding:28px;box-shadow:0 6px 30px rgba(110,84,160,0.08);
      display:grid;grid-template-columns:1fr 320px;gap:22px;align-items:start;
    }
    header{display:flex;align-items:center;gap:12px;margin-bottom:8px}
    .logo{
      width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--purple) 0%, var(--purple-600) 100%);
      display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;box-shadow:0 6px 18px rgba(107,33,168,0.16)
    }
    h1{margin:0;font-size:18px}
    .subtitle{color:var(--muted);font-size:13px;margin-top:4px}

    .left{padding-top:6px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:8px}
    .row{display:flex;gap:12px;align-items:center}
    input[type=number]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #eee;font-size:15px}
    select{padding:10px;border-radius:10px;border:1px solid #eee;background:white}
    .actions{display:flex;gap:10px;margin-top:14px}
    button{border:0;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--purple),var(--purple-600));color:#fff}
    .btn-ghost{background:#fff;border:1px solid #ece9f6;color:var(--purple)}
    .swap{width:40px;height:40px;border-radius:10px;background:linear-gradient(90deg,#fff,#fff);display:flex;align-items:center;justify-content:center;border:1px solid #f0e9ff;cursor:pointer}
    .result{margin-top:18px;font-size:20px;font-weight:700;color:var(--purple)}
    .muted{color:var(--muted);font-size:13px}

    .right{padding-left:12px;border-left:1px solid #f3eefb}
    .panel-title{font-weight:700;margin-bottom:8px}
    .panel{background:#fbf9ff;padding:12px;border-radius:10px}
    .history-list{max-height:200px;overflow:auto;margin-top:8px}
    .history-item{padding:8px;border-radius:8px;background:white;margin-bottom:8px;border:1px solid #f1ecfb;font-size:13px}

    footer.note{margin-top:14px;color:var(--muted);font-size:13px}

    /* responsive */
    @media (max-width:880px){.card{grid-template-columns:1fr;}.right{border-left:0;padding-left:0}}
  </style>
</head>
<body>
  <div class="container">
    <div class="card" role="application">
      <div class="left">
        <header>
          <div class="logo" title="Tool i Online">ti</div>
          <div>
            <h1>Tool i Online ‚Äî Currency Converter</h1>
            <div class="subtitle">Convert currencies using fixed rates (approximate/for demo)</div>
          </div>
        </header>

        <label>Amount</label>
        <div class="row">
          <input id="amount" type="number" inputmode="decimal" value="1" min="0" step="any">
          <select id="from">
          </select>
          <button class="swap" id="swapBtn" title="Swap currencies">üîÅ</button>
          <select id="to">
          </select>
        </div>

        <div class="actions">
          <button id="convertBtn" class="btn-primary">Convert</button>
          <button id="copyBtn" class="btn-ghost">Copy</button>
          <button id="exportBtn" class="btn-ghost">Export</button>
        </div>

        <div class="result" id="result">N/A</div>
        <div class="muted" id="rateLine">Rate: ‚Äî</div>

        <div style="margin-top:18px">
          <label>Quick find currency</label>
          <input id="quickFind" placeholder="Search by code or name" style="width:100%;padding:10px;border-radius:10px;border:1px solid #eee">
        </div>

        <footer class="note">Rates are fixed inside the code for demo/rough data purposes. Edit the rates object in the HTML to change.</footer>
      </div>

      <aside class="right">
        <div class="panel">
          <div class="panel-title">History & Tools</div>
          <div class="muted">Conversion history (local)</div>
          <div class="history-list" id="history"></div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="clearBtn" class="btn-ghost">Clear</button>
            <button id="downloadBtn" class="btn-ghost">Export</button>
          </div>
        </div>

        <div style="margin-top:14px">
          <label style="margin-bottom:6px">Options</label>
          <div style="display:flex;gap:10px;align-items:center">
            <input type="checkbox" id="showName" checked><label for="showName" class="muted">Show currency names</label>
          </div>
        </div>

      </aside>
    </div>
  </div>

  <script>
    // Fixed demo rates relative to USD. You can change these values.
    const RATES = {
      "USD": 1.0000,
      "EUR": 0.92,
      "GBP": 0.79,
      "INR": 83.50,
      "JPY": 154.30,
      "AUD": 1.53,
      "CAD": 1.36,
      "CNY": 7.25,
      "SGD": 1.34,
      "NZD": 1.66
    };

    const NAMES = {
      USD: 'United States Dollar', EUR: 'Euro', GBP: 'British Pound', INR: 'Indian Rupee',
      JPY: 'Japanese Yen', AUD: 'Australian Dollar', CAD: 'Canadian Dollar', CNY: 'Chinese Yuan',
      SGD: 'Singapore Dollar', NZD: 'New Zealand Dollar'
    };

    const fromEl = document.getElementById('from');
    const toEl = document.getElementById('to');
    const amountEl = document.getElementById('amount');
    const resultEl = document.getElementById('result');
    const rateLine = document.getElementById('rateLine');
    const historyEl = document.getElementById('history');
    const quickFind = document.getElementById('quickFind');
    const showNameCheckbox = document.getElementById('showName');

    function populateSelects(){
      const codes = Object.keys(RATES);
      codes.forEach(code=>{
        const opt1 = document.createElement('option');
        opt1.value = code;
        opt1.textContent = showNameCheckbox.checked ? `${code} ‚Äî ${NAMES[code]||''}` : code;
        fromEl.appendChild(opt1);
        const opt2 = opt1.cloneNode(true);
        toEl.appendChild(opt2);
      });
      fromEl.value='USD';toEl.value='INR';
    }

    function clearSelects(){fromEl.innerHTML='';toEl.innerHTML='';}

    function formatNumber(n){
      if (Math.abs(n) >= 1) return Number(n.toFixed(4)).toLocaleString();
      return Number(n.toPrecision(6));
    }

    function convert(){
      const from = fromEl.value; const to = toEl.value; const amt = parseFloat(amountEl.value)||0;
      if(!RATES[from]||!RATES[to]){resultEl.textContent='N/A';rateLine.textContent='Rate: ‚Äî';return}
      const usd = amt / RATES[from];
      const converted = usd * RATES[to];
      resultEl.textContent = `${formatNumber(converted)} ${to}`;
      const rate = (RATES[to]/RATES[from]);
      rateLine.textContent = `Rate: 1 ${from} = ${rate.toFixed(6)} ${to}`;
      pushHistory({from, to, amt, converted, rate, time: new Date().toLocaleString()});
    }

    function pushHistory(item){
      const arr = JSON.parse(localStorage.getItem('ti_history')||'[]');
      arr.unshift(item); if(arr.length>20) arr.pop();
      localStorage.setItem('ti_history', JSON.stringify(arr));
      renderHistory();
    }

    function renderHistory(){
      const arr = JSON.parse(localStorage.getItem('ti_history')||'[]');
      historyEl.innerHTML='';
      if(arr.length===0){historyEl.innerHTML='<div class="muted">No recent conversions</div>';return}
      arr.forEach(it=>{
        const el = document.createElement('div'); el.className='history-item';
        el.textContent = `${it.amt} ${it.from} ‚Üí ${formatNumber(it.converted)} ${it.to} ‚Ä¢ ${it.time}`;
        historyEl.appendChild(el);
      });
    }

    document.getElementById('convertBtn').addEventListener('click', convert);
    document.getElementById('swapBtn').addEventListener('click', ()=>{
      const a = fromEl.value; fromEl.value = toEl.value; toEl.value = a; convert();
    });

    document.getElementById('copyBtn').addEventListener('click', ()=>{
      navigator.clipboard?.writeText(resultEl.textContent || '')
        .then(()=> alert('Copied to clipboard'))
        .catch(()=> alert('Copy failed ‚Äî select and copy manually'));
    });

    document.getElementById('clearBtn').addEventListener('click', ()=>{localStorage.removeItem('ti_history');renderHistory();});

    document.getElementById('downloadBtn').addEventListener('click', ()=>{
      const arr = JSON.parse(localStorage.getItem('ti_history')||'[]');
      const blob = new Blob([JSON.stringify(arr, null, 2)],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='ti-conversion-history.json'; a.click(); URL.revokeObjectURL(url);
    });

    document.getElementById('exportBtn').addEventListener('click', ()=>{
      document.getElementById('downloadBtn').click();
    });

    quickFind.addEventListener('input', ()=>{
      const q = quickFind.value.trim().toLowerCase();
      if(!q){clearSelects();populateSelects();return}
      clearSelects();
      Object.keys(RATES).forEach(code=>{
        const name = NAMES[code]||'';
        if(code.toLowerCase().includes(q) || name.toLowerCase().includes(q)){
          const o1 = document.createElement('option'); o1.value=code; o1.textContent = showNameCheckbox.checked ? `${code} ‚Äî ${name}` : code; fromEl.appendChild(o1);
          const o2 = o1.cloneNode(true); toEl.appendChild(o2);
        }
      });
    });

    showNameCheckbox.addEventListener('change', ()=>{
      const fromSel = fromEl.value; const toSel = toEl.value;
      clearSelects(); populateSelects(); fromEl.value = fromSel || 'USD'; toEl.value = toSel || 'INR';
    });

    // initialize
    populateSelects(); renderHistory(); convert();

  </script>
</body>
</html>
